<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decision Maker</title>
    <link href="https://fonts.googleapis.com/css2?family=Arial:wght@400&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(to bottom, #1a1a1a, #333);
            color: white;
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            background: #222;
            border-radius: 10px;
            padding: 20px;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }
        h2 {
            text-align: center;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: none;
            border-radius: 5px;
        }
        button {
            width: 100%;
            padding: 10px;
            background: cyan;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s, transform 0.3s;
        }
        button:hover {
            background: #00bfff;
            transform: translateY(-2px);
        }
        .choice-list {
            list-style: none;
            padding: 0;
        }
        .choice-item {
            display: flex;
            align-items: center;
            justify-content: space-between; /* Aligns items with space between */
            padding: 10px;
            margin: 5px 0;
            background: #444;
            border-radius: 5px;
            transition: background 0.3s;
        }
        .choice-item:hover {
            background: #555;
        }
        .remove-button {
            background: red;
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            padding: 5px;
            width: 30px;
            height: 30px;
            margin-left: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .result {
            text-align: center;
            font-size: 20px;
            opacity: 0;
            transition: opacity 0.5s;
        }
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            opacity: 0;
            transition: opacity 0.5s;
            visibility: hidden;
        }
        .toast.show {
            opacity: 1;
            visibility: visible;
        }
        .highlight {
            border: 2px solid cyan; /* Cyan border for highlighted choices */
            animation: highlightAnimation 0.5s forwards;
        }
        @keyframes highlightAnimation {
            0% { border-color: transparent; }
            100% { border-color: cyan; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Decision Maker</h2>
        <input type="text" id="choiceInput" placeholder="Enter choices (e.g., Yes, No, Maybe)">
        <button id="addChoice">Add Choices</button>
        <ul class="choice-list" id="choiceList">
            <!-- Predefined choices -->
            <li class="choice-item">
                <label>
                    <input type="checkbox" class="choiceCheckbox">
                    <strong>Yes</strong>
                </label>
                <button class="remove-button" onclick="removeChoice(this)">X</button>
            </li>
            <li class="choice-item">
                <label>
                    <input type="checkbox" class="choiceCheckbox">
                    <strong>No</strong>
                </label>
                <button class="remove-button" onclick="removeChoice(this)">X</button>
            </li>
            <li class="choice-item">
                <label>
                    <input type="checkbox" class="choiceCheckbox">
                    <strong>Maybe not</strong>
                </label>
                <button class="remove-button" onclick="removeChoice(this)">X</button>
            </li>
            <li class="choice-item">
                <label>
                    <input type="checkbox" class="choiceCheckbox">
                    <strong>Maybe</strong>
                </label>
                <button class="remove-button" onclick="removeChoice(this)">X</button>
            </li>
            <li class="choice-item">
                <label>
                    <input type="checkbox" class="choiceCheckbox">
                    <strong>Definitely</strong>
                </label>
                <button class="remove-button" onclick="removeChoice(this)">X</button>
            </li>
        </ul>
        <button id="makeDecision">Make a Decision!</button>
        <div class="result" id="resultDisplay"></div>
    </div>
    <div class="toast" id="toast">Choice added or duplicate detected!</div>

    <script>
        const choiceInput = document.getElementById('choiceInput');
        const addChoiceButton = document.getElementById('addChoice');
        const choiceList = document.getElementById('choiceList');
        const makeDecisionButton = document.getElementById('makeDecision');
        const resultDisplay = document.getElementById('resultDisplay');
        const toast = document.getElementById('toast');
        let choices = new Set();

        addChoiceButton.addEventListener('click', () => {
            const inputValue = choiceInput.value.split(',').map(choice => choice.trim().toLowerCase());
            let addedChoices = false;

            inputValue.forEach(choice => {
                if (choice && !choices.has(choice)) {
                    choices.add(choice);
                    addedChoices = true;

                    const li = document.createElement('li');
                    li.classList.add('choice-item');
                    li.innerHTML = `
                        <label>
                            <input type="checkbox" class="choiceCheckbox">
                            <strong>${choice.charAt(0).toUpperCase() + choice.slice(1)}</strong>
                        </label>
                        <button class="remove-button" onclick="removeChoice(this)">X</button>
                    `;
                    choiceList.appendChild(li);
                }
            });

            if (addedChoices) {
                showToast('Choice added!');
            } else {
                showToast('Duplicate choice detected!');
            }

            choiceInput.value = '';
        });

        makeDecisionButton.addEventListener('click', () => {
            const selectedChoices = Array.from(choiceList.querySelectorAll('.choiceCheckbox:checked')).map(checkbox => checkbox.parentElement.innerText.trim());
            if (selectedChoices.length === 0) {
                showToast('No choices selected!');
                return;
            }
            const decision = selectedChoices[Math.floor(Math.random() * selectedChoices.length)];
            resultDisplay.innerText = `You decided: ${decision}`;
            resultDisplay.style.opacity = 0;
            setTimeout(() => {
                resultDisplay.style.opacity = 1;
                highlightChoices(selectedChoices);
            }, 100);
        });

        function removeChoice(button) {
            const item = button.parentElement.parentElement; // Adjusted to access li
            const choiceText = item.innerText.trim();
            choices.delete(choiceText.toLowerCase());
            item.remove();
        }

        function highlightChoices(selectedChoices) {
            let delay = 0;
            choiceList.querySelectorAll('.choice-item').forEach(item => {
                const label = item.querySelector('label');
                if (selectedChoices.includes(label.innerText.trim())) {
                    setTimeout(() => {
                        item.classList.add('highlight');
                        setTimeout(() => item.classList.remove('highlight'), 500); // Remove highlight after animation
                    }, delay);
                    delay += 300; // Increase delay for sequential highlighting
                }
            });
        }

        function showToast(message) {
            toast.innerText = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }
    </script>
</body>
</html>
