<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stress Relief App</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }

        .board {
            position: relative;
            width: 80%;
            height: 80%;
            border: 2px solid #333;
            overflow: hidden;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        h1 {
            font-size: 2rem;
            color: #333;
            position: relative;
            z-index: 1;
        }

        .bomb {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: red;
            border-radius: 50%;
            animation: explode 0.5s forwards;
        }

        @keyframes explode {
            transform: scale(2);
            opacity: 0;
        }

        .blast {
            animation: blast 0.5s forwards;
        }

        @keyframes blast {
            transform: scale(0);
            opacity: 0;
        }
    </style>
</head>
<body>
    <div id="board" class="board">
        <h1 id="output">Type Here!</h1>
    </div>
    <script>
        const output = document.getElementById('output');
        const board = document.getElementById('board');

        document.addEventListener('keydown', (event) => {
            // Append the typed character to the output
            output.innerText += event.key;
        });

        board.addEventListener('click', (event) => {
            // Create a bomb at the mouse click position
            const bomb = document.createElement('div');
            bomb.className = 'bomb';
            bomb.style.left = `${event.clientX - 25}px`; // Center the bomb
            bomb.style.top = `${event.clientY - 25}px`; // Center the bomb

            board.appendChild(bomb);

            // Schedule the blast after 5 seconds
            setTimeout(() => {
                // Create the blast effect
                const blast = document.createElement('div');
                blast.className = 'blast';
                blast.style.left = `${event.clientX - 25}px`;
                blast.style.top = `${event.clientY - 25}px`;
                board.appendChild(blast);

                // Remove the bomb and the blast after the animation
                setTimeout(() => {
                    bomb.remove();
                    blast.remove();
                }, 500);

                // Destroy nearby letters
                destroyNearbyLetters(event.clientX, event.clientY);
            }, 5000);
        });

        function destroyNearbyLetters(x, y) {
            const letters = output.innerText.split('');
            output.innerText = ''; // Clear the output

            letters.forEach((letter, index) => {
                const letterElement = document.createElement('span');
                letterElement.innerText = letter;

                // Calculate distance from the bomb
                const letterX = (index * 30) + 30; // Rough estimation of letter position
                const letterY = 50; // Fixed Y position for single line

                const distance = Math.sqrt(Math.pow(letterX - x, 2) + Math.pow(letterY - y, 2));

                // If within a certain distance, add the blast effect
                if (distance < 100) {
                    letterElement.classList.add('blast');
                }

                output.appendChild(letterElement);
            });
        }
    </script>
</body>
</html>
